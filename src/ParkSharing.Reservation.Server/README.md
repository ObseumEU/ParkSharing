# ParkSharing Reservation Server

Welcome to the **ParkSharing Reservation Server**! ðŸŽ‰ This is the back-end powerhouse that keeps track of all your parking spots, reservations, and everything else you never knew you needed. If youâ€™re here to figure out how it all works, grab a coffeeâ€”itâ€™s going to be a journey. Oh, and by the way, a lot of this was pieced together by ChatGPT because, let's face it, the owner's backend skills needed a little AI boost.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Setup](#setup)
- [Usage](#usage)
- [File Structure](#file-structure)
- [Contributing](#contributing)
- [License](#license)

## Overview

The **ParkSharing Reservation Server** is the core back-end service that handles parking spot data, user reservations, and communication with other services. Itâ€™s built using .NET, MongoDB, and a sprinkle of MassTransit for message handling. This service also talks to an AI model to assist with reservationsâ€”because why not automate the fun stuff?

### Disclaimer:

Most of this code was generated by ChatGPT. Why? Because the owner is more comfortable with frontend work and this backend stuff can get tricky. So if something doesnâ€™t make sense, blame the AI (or the owner for asking it to generate the code).

## Features

- **Parking Spot Management**: Create, update, and manage parking spots with ease (or at least with some patience).
- **Reservation System**: Supports creating and managing reservations. Yes, it even handles cancellationsâ€”just in case.
- **MassTransit Integration**: Uses MassTransit for handling messages across services. Expect some magic here.
- **ChatGPT Integration**: Uses OpenAI's GPT model to assist users in making reservations. Because regular reservation systems are just too mainstream.

## Setup

Getting this beast up and running isnâ€™t too hard. Just follow these steps:

1. **Clone the repository**:
   ```bash
   git clone https://github.com/YourUserName/ParkSharing-Reservation-Server.git
   cd ParkSharing-Reservation-Server
   ```

2. **Configure environment variables**:
   You'll need to set up a few environment variables for things like the MongoDB connection and API keys for OpenAI. Donâ€™t worry, weâ€™ve all been there.

3. **Run the application**:
   ```bash
   dotnet run
   ```
   The server will be up and running on `http://localhost:5000`. Feel free to change the port, or donâ€™tâ€”it's your call.

## Usage

Once the server is up, hereâ€™s what you can do:

- **API Endpoints**: The server provides several RESTful API endpoints for managing parking spots and reservations. Swagger UI is included if you want to play around with the API before diving into the code.
- **Message Handling**: The server listens for events like `ParkSpotCreatedOrUpdatedEvent` and `ReservationRemovedEvent` to keep everything in sync.
- **Debugging**: Thereâ€™s even a `DebugController` for when things go wrong (or when you just want to see some logs).

### Environment Variables

- `MONGODB_CONNECTION_STRING`: The connection string for your MongoDB instance.
- `RABBITMQ_CONNECTION_STRING`: The connection string for RabbitMQ, used by MassTransit.
- `OPENAI_API_KEY`: The API key for OpenAI services. Get ready to bring AI into your parking management!

## File Structure

Hereâ€™s a quick overview of the codebase:

- **`Consumers/`**: Handles the consumption of events from other services. Expect some MassTransit action here.
  - `AdminConsumer.cs`: Listens for updates or creations of parking spots.
  - `ReservationRemoveConsumer.cs`: Deals with the removal of reservations.

- **`Context/`**: Manages the MongoDB context. You know, the place where all your precious data lives.
  - `MongoDbContext.cs`: Configures and provides access to MongoDB collections.

- **`Controllers/`**: The heart of the API, where all the endpoints live.
  - `ParkingController.cs`: The main controller handling all parking-related requests.
  - `DebugController.cs`: For when you need to see whatâ€™s happening under the hood.

- **`Services/`**: Contains the business logic and services used by the controllers.
  - `ChatGPTService.cs`: Talks to OpenAI's GPT models to help with reservations.
  - `ReservationService.cs`: Manages reservations and checks availability.

- **`Middlewares/`**: Custom middleware to handle errors gracefully (or at least attempt to).
  - `ErrorHandlerMiddleware.cs`: Catches exceptions and returns friendly error messages.

## Contributing

Want to dive in and help improve the code? We welcome contributions, whether it's fixing a bug or adding a new feature. Just fork the repo, make your changes, and submit a pull request. And if you improve something ChatGPT wrote, letâ€™s just pretend the owner did it.

## License

This project is licensed under the MIT License. Use it, break it, fix it, repeat.

---

Happy coding! And may your reservations always be available.
```

This Markdown-formatted README provides a humorous and informative guide to the server-side microservice, covering setup, usage, and the project's structure.